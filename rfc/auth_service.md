 # –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å—Ç–µ–∫
 
- flask
- SQLAlchemy
- flask-alembic
- flask-marshmallow - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- flasgger - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- flask-security - –ú–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Å—Å–∏—è–º–∏ (—Ç–æ–∫–µ–Ω—ã)
- flask-jwt-extended - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä JWT-—Ç–æ–∫–µ–Ω–æ–≤

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö


–°—Ö–µ–º–∞ PostGrees 
![](img/db_scheme.png)

–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è **refresh token** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ PG UserHistory.refresh_token.

–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö **access token** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Redis.

–í–∞–ª–∏–¥–Ω—ã–µ **access token** –Ω–µ —Ö—Ä–∞–Ω—è—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É.

–°—Ö–µ–º–∞ Payload:
```
{
  "user_id": user_id,
  "email": email,
  "role_id": role_id
}
```


#API

–£—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è
 - üîì - endpoint —Ç—Ä–µ–±—É–µ—Ç access —Ç–æ–∫–µ–Ω –¥–ª—è –∞—É—Ç–µ—Ñ–∏–∫–∞—Ü–∏–∏.
 - üé© - endpoint —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –¥–ª—è –≤—ã–ø–æ–ª–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è.

# API/users

![users](img/api_user_00_main.png)

## API/users/

    **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
    1) access_token

    **–í—ã—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
    C–ø–∏—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏–∑ –ë–î 

    –õ–æ–≥–∏–∫–∞:
    1) –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞, –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–¥–º–∏–Ω–∞
    2) –í—ã–¥–∞—á–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

![users_all](img/api_user_01_usersall.png)

## API/users/get_user

	**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
    1) access_token
    2) user_id

    **–í—ã—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
    –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è

	–õ–æ–≥–∏–∫–∞:
    1) –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞ –≤ access_token, –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–¥–º–∏–Ω–∞
	2) –í—ã–¥–∞—á–∞ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ user

![](img/api_user_02_getbyuserid.png)

## API/users/me

	**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
    1) access_token

    **–í—ã—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
    –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (—Å–µ–±–µ) –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è

	–õ–æ–≥–∏–∫–∞:
    1) –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞ –≤ access_token
	2) –í—ã–¥–∞—á–∞ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ user

![](img/api_user_03_getmyinfo.png)

## API/users/me/permission/

	**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
    1) access_token
    2) permission_id

    **–í—ã—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
    –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –ë–î –ø–æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–º—É –¥–æ—Å—Ç—É–ø—É —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 

    –õ–æ–≥–∏–∫–∞:
    1) –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞ –≤ access_token
    2) –í—ã–¥–∞—á–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–º—É –¥–æ—Å—Ç—É–ø—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ë–î

![](img/api_user_04_get_specific_permission.png)

## API/users/register:

	**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
	1) email
	2) password
	3) password confirm

    **–í—ã—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
    –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–∑–¥–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (user_id, email)

	–õ–æ–≥–∏–∫–∞:
	1) –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ username (–∑–∞–ø—Ä–æ—Å –≤ –ë–î)
	 - —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –æ—à–∏–±–∫–∞ "—Ç–∞–∫–æ–π —é–∑–µ—Ä–Ω–µ–π–º —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
	 - –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –ø—É–Ω–∫—Ç 2
	2) –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤)
	 - –Ω–µ–≤–∞–ª–∏–¥–µ–Ω -> –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
	 - –≤–∞–ª–∏–¥–µ–Ω -> —à–∞–≥ 3
	3) –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
	 - –ø–∞—Ä–æ–ª—å –Ω–µ –≤–≤–µ–ª–∏ -> –æ—à–∏–±–∫–∞, —á—Ç–æ –Ω–∞–¥–æ –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å
	 - –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–¥–∞–µ—Ç -> –æ—à–∏–±–∫–∞, —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
	 - –ø–∞—Ä–æ–ª—å —Å–æ–≤–ø–∞–¥–∞–µ—Ç -> —à–∞–≥ 4
	4) –∑–∞–ø–∏—Å—å –Ω–æ–≤–æ–≥–æ —é–∑–µ—Ä–∞ –≤ –ë–î
	5) –ø–æ–ª—É—á–µ–Ω–∏–µ access-—Ç–æ–∫–µ–Ω–∞
	6) –∑–∞–ø–∏—Å—å —Ä–µ—Ñ—Ä–µ—à —Ç–æ–∫–µ–Ω–∞ –≤ –ë–î
	7) –∑–∞–ø–∏—Å—å —Å–µ—Å—Å–∏–∏ –≤ –ë–î

![](img/api_user_05_register_user.png)

## API/users/user/update:

	**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
    1) access_token
    2) email
	3) password
	4) new password
	5) new password confirm
    
    **–í—ã—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
    –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

	–õ–æ–≥–∏–∫–∞:
    1) –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
	2) —Å–º–µ–Ω–∞ email, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ë–î
	 - –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –æ—à–∏–±–∫–∞ "—Ç–∞–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
	 - —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –ø—É–Ω–∫—Ç 3
	3) –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –≤–≤–æ–¥–∞ —Å—Ç–∞—Ä–æ–≥–æ –ø–∞—Ä–æ–ª—è (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ö—ç—à–µ–π)
	4) –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–æ–≤–ª–æ–≤, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤)
	 - –Ω–µ–≤–∞–ª–∏–¥–µ–Ω -> –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
	 - –≤–∞–ª–∏–¥–µ–Ω -> —à–∞–≥ 5
	5) –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
	 - –ø–∞—Ä–æ–ª—å –Ω–µ –≤–≤–µ–ª–∏ -> –æ—à–∏–±–∫–∞, —á—Ç–æ –Ω–∞–¥–æ –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å
	 - –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–¥–∞–µ—Ç -> –æ—à–∏–±–∫–∞, —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
	 - –ø–∞—Ä–æ–ª—å —Å–æ–≤–ø–∞–¥–∞–µ—Ç -> —à–∞–≥ 6
	6) –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
	 - –ø–∞—Ä–æ–ª—å –Ω–µ –≤–≤–µ–ª–∏ -> –æ—à–∏–±–∫–∞, —á—Ç–æ –Ω–∞–¥–æ –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å
	 - –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–¥–∞–µ—Ç -> –æ—à–∏–±–∫–∞, —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
	 - –ø–∞—Ä–æ–ª—å —Å–æ–≤–ø–∞–¥–∞–µ—Ç -> —à–∞–≥ 4
	7) –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –Ω–æ–≤–æ–≥–æ —é–∑–µ—Ä–∞ –≤ –ë–î

![](img/api_user_06_updateuser_by_id_1.png)

## API/users/me/update:

	**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
    1) access_token
    2) email
	3) password
	4) new password
	5) new password confirm
    
    **–í—ã—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
    –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

	–õ–æ–≥–∏–∫–∞:
    1) –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
	2) —Å–º–µ–Ω–∞ email, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ë–î
	 - –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –æ—à–∏–±–∫–∞ "—Ç–∞–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
	 - —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –ø—É–Ω–∫—Ç 3
	3) –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –≤–≤–æ–¥–∞ —Å—Ç–∞—Ä–æ–≥–æ –ø–∞—Ä–æ–ª—è (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ö—ç—à–µ–π)
	4) –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–æ–≤–ª–æ–≤, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤)
	 - –Ω–µ–≤–∞–ª–∏–¥–µ–Ω -> –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
	 - –≤–∞–ª–∏–¥–µ–Ω -> —à–∞–≥ 5
	5) –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
	 - –ø–∞—Ä–æ–ª—å –Ω–µ –≤–≤–µ–ª–∏ -> –æ—à–∏–±–∫–∞, —á—Ç–æ –Ω–∞–¥–æ –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å
	 - –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–¥–∞–µ—Ç -> –æ—à–∏–±–∫–∞, —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
	 - –ø–∞—Ä–æ–ª—å —Å–æ–≤–ø–∞–¥–∞–µ—Ç -> —à–∞–≥ 6
	6) –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
	 - –ø–∞—Ä–æ–ª—å –Ω–µ –≤–≤–µ–ª–∏ -> –æ—à–∏–±–∫–∞, —á—Ç–æ –Ω–∞–¥–æ –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å
	 - –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–¥–∞–µ—Ç -> –æ—à–∏–±–∫–∞, —á—Ç–æ –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
	 - –ø–∞—Ä–æ–ª—å —Å–æ–≤–ø–∞–¥–∞–µ—Ç -> —à–∞–≥ 4
	7) –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —é–∑–µ—Ä–∞ –≤ –ë–î

![](img/api_user_08_updateuser_me_1.png)

## API/users/user/delete:

	**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
    1) access_token
    2) user_id

    **–í—ã—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
    –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–¥–∞–ª–µ–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

	–õ–æ–≥–∏–∫–∞:
    1) –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
	2) —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ç–æ–∫–µ–Ω–æ–≤
    3) —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–∑–Ω–∞–∫–∞ inactive=True –≤ –ë–î

![](img/api_user_07_delete_user_by_id.png)

## API/users/me/delete:

	**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
    1) access_token

    **–í—ã—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
    –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–¥–∞–ª–µ–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

	–õ–æ–≥–∏–∫–∞:
    1) –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
	2) —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ç–æ–∫–µ–Ω–æ–≤
    3) —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–∑–Ω–∞–∫–∞ inactive=True –≤ –ë–î

![](img/api_user_09_deleteuser_me.png)


# Auth
![](img/api_session_00_main.png)

## /api/v1/auth/login
–í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ —Å –Ω–æ–≤—ã–º–∏ `access_token` –∏ `refresh_token`.
- 401 –≤ —Å–ª—É—á–∞–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞.

#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- access_token ‚Äì —Ç–æ–∫–µ–Ω —Å –∫–æ—Ä–æ—Ç–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ (10-15 –º–∏–Ω—É—Ç –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤)
‚Äî –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–π. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.
- refresh_token ‚Äì —Ç–æ–∫–µ–Ω —Å –¥–æ–ª–≥–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ (–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–Ω–µ–π –¥–æ –º–µ—Å—è—Ü–∞) ‚Äî
–æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π. –°–ø–∏—Å–æ–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö refresh-—Ç–æ–∫–µ–Ω–æ–≤ –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã —Å–æ–±–ª—é—Å—Ç–∏ ¬´–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ—Å—Ç—å¬ª.

#### –õ–æ–≥–∏–∫–∞:
1) –ò—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å email, –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ö—ç—à–∞ –ø–∞—Ä–æ–ª—è
–∏ —Ö—ç—à–∞ –≤ –±–¥ —Ç–∞–±–ª–∏—Ü–µ User.
2) –ï—Å–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º `access_token` –∏ `refresh_token`. 
3) –í –±–¥ —Ç–∞–±–ª–∏—Ü–µ UserHistory –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å —Å `user_id`, `user_agent`, 
`ip`, `refresh_token`, `logout=false`. 

#### –û—à–∏–±–∫–∏:
–ï—Å–ª–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –Ω–µ–≤–µ—Ä–Ω–∞—è, –ø–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É `401 Error: Unauthorized`. 

![](img/api_session_01_login.png)

## /api/v1/auth/logout
–í—ã—Ö–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- access_token ‚Äì —Ç–æ–∫–µ–Ω.

#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞ 
- 401 –≤ —Å–ª—É—á–∞–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞.

#### –õ–æ–≥–∏–∫–∞:
1) –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `access_token` –≤ –±–ª–æ–∫–ª–∏—Å—Ç–µ –≤ redis.
2) –î–µ–∫–æ–¥–∏—Ä—É–µ–º `access_token`, –ø–æ–ª—É—á–∞–µ–º `session_id`.
3) –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ –±–¥ —Ç–∞–±–ª–∏—Ü–µ `UserHistory` –∑–Ω–∞—á–µ–Ω–∏–µ `logout` –Ω–∞ `true`.
4) –í redis –≤ –±–ª–æ–∫–ª–∏—Å—Ç –¥–æ–±–∞–≤–ª—è–µ–º access_token 
—Å `ttl = access_token_expire_time - now().`

#### –û—à–∏–±–∫–∏:
–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π, –ø–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É `401 Error: Unauthorized`. 

![](img/api_session_02_logout.png)

## /api/v1/auth/logout_others
–í—ã—Ö–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- access_token ‚Äì —Ç–æ–∫–µ–Ω.

#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞ 
- 401 –≤ —Å–ª—É—á–∞–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞.

#### –õ–æ–≥–∏–∫–∞:
1) –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `access_token` –≤ –±–ª–æ–∫–ª–∏—Å—Ç–µ –≤ redis.
2) –î–µ–∫–æ–¥–∏—Ä—É–µ–º `access_token`, –ø–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è `session_id` –∏ `user_id`.
3) –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ –±–¥ —Ç–∞–±–ª–∏—Ü–µ `UserHistory` –∑–Ω–∞—á–µ–Ω–∏–µ `logout` –Ω–∞ `true`
—É –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –Ω–æ –Ω–µ —Å —Ç–µ–∫—É—â–∏–º `session_id`.
4) –í redis –≤ –±–ª–æ–∫–ª–∏—Å—Ç –¥–æ–±–∞–≤–ª—è–µ–º access_token 
—Å `ttl = access_token_expire_time - now().`

#### –û—à–∏–±–∫–∏:
–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π, –ø–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É `401 Error: Unauthorized`. 

![](img/api_session_03_logout_others.png)


## /api/v1/auth/refresh
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤.

#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- refresh_token ‚Äì —Ç–æ–∫–µ–Ω.

#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `access_token` –∏ `refresh_token`.
- 401 –≤ —Å–ª—É—á–∞–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ refresh-—Ç–æ–∫–µ–Ω–∞.

#### –õ–æ–≥–∏–∫–∞:
1) –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `access_token` –≤ –±–ª–æ–∫–ª–∏—Å—Ç–µ –≤ redis.
2) –î–µ–∫–æ–¥–∏—Ä—É–µ–º `access_token`, –ø–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è `session_id`.
3) –ü–æ–ª—É—á–∞–µ–º –∑–∞–ø–∏—Å—å –≤ –±–¥ —Ç–∞–±–ª–∏—Ü–µ `UserHistory` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º `session_id`.
4) –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã.
5) –û–±–Ω–æ–≤–ª—è–µ–º refresh_token –≤ –∑–∞–ø–∏—Å–∏ –∏–∑ –ø.1.
6) –°—Ç–∞—Ä—ã–π `access_token` –∫–∏–¥–∞–µ–º –≤ –±–ª–æ–∫–ª–∏—Å—Ç –≤ redis 
—Å `ttl = access_token_expire_time - now().`.

#### –û—à–∏–±–∫–∏:
–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π, –ø–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É `401 Error: Unauthorized`. 

![](img/api_session_04_refresh.png)


## /api/v1/auth/history
–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π.

#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- `access_token` ‚Äì —Ç–æ–∫–µ–Ω.

#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- 200 –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π.
- 401 –≤ —Å–ª—É—á–∞–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ refresh-—Ç–æ–∫–µ–Ω–∞.

#### –õ–æ–≥–∏–∫–∞:
1) –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `access_token` –≤ –±–ª–æ–∫–ª–∏—Å—Ç–µ –≤ redis.
2) –î–µ–∫–æ–¥–∏—Ä—É–µ–º `access_token` –∏ –ø–æ–ª—É—á–∞–µ–º `user_id`.
3) –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞–ø–∏—Å–∏ –≤ –±–¥ —Ç–∞–±–ª–∏—Ü–µ `UserHistory` 
—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º `user_id` –∏ `logout=false`.

#### –û—à–∏–±–∫–∏:
–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π, –ø–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É `401 Error: Unauthorized`. 

![](img/api_session_05_history.png)



# API/user/user/assign_role
–ù–∞–∑—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é


#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
 - `user_id`
 - `role_id`

#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–π —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (role_name, permissions)

#### –õ–æ–≥–∏–∫–∞:
 - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞, –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–¥–º–∏–Ω–∞
 - –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –Ω–æ–≤–æ–π —Ä–æ–ª–∏–∫
 - –≤—ã–¥–∞—á–∞ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ —Ä–æ–ª–∏ (`role_name`, `usernames`, `permissions`)

![](img/api_userrole_01_assign_role.png)

# API/roles

![](img/api_role_00_main.png)


## API/roles/
#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
 - –°–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π –∏–∑ –ë–î

    
#### –õ–æ–≥–∏–∫–∞:
 - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞, –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–¥–º–∏–Ω–∞
 - –í—ã–¥–∞—á–∞ —Å–ø–∏—Å–∫–∞ —Ä–æ–ª–µ–π –∏–∑ –ë–î

![](img/api_role_01_all_roles.png)

## API/roles/detail

#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
 - `role_id`
 - `accees_token`

#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ —Ä–æ–ª–∏ (`role_name`, `usernames`, `permissions`)

#### –õ–æ–≥–∏–∫–∞:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞, –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–¥–º–∏–Ω–∞
- –í—ã–¥–∞—á–∞ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ —Ä–æ–ª–∏ (`role_name`, `usernames`, `permissions`)

![](img/api_role_02_get_role_info.png)

## API/role/create

#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
-`role_name`
-`accees_token`
-`permissions`

#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ —Ä–æ–ª–∏ (`role_name`, `usernames`, `permissions`)


#### –õ–æ–≥–∏–∫–∞:
 - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞, –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–¥–º–∏–Ω–∞
 - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ `role_name` (–∑–∞–ø—Ä–æ—Å –≤ –ë–î)
     - —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –æ—à–∏–±–∫–∞ "—Ä–æ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
     - –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –ø—É–Ω–∫—Ç 2
 - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ permissions (–≤—ã–±–∏—Ä–∞–µ–º –∏–∑ –≥–æ—Ç–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, —Ä–æ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π). 
    - –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ -> –æ—à–∏–±–∫–∞, —á—Ç–æ —Ç–∞–∫–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ—Ç
 - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å. –ó–∞–ø–∏—Å—å —Ä–æ–ª–∏ –≤ –ë–î.

![](img/api_role_03_create_role.png)

## API/role/update

#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
 - `role_id`
 - `accees_token`
 - `permissions`


#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ë–î –ø–æ —Ä–æ–ª–∏ (role_name, usernames, permissions)

#### –õ–æ–≥–∏–∫–∞:
 - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞, –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–¥–º–∏–Ω–∞
 - –∑–∞–º–µ–Ω–∞ `role_name`
    - —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –æ—à–∏–±–∫–∞ "—Ä–æ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —Å—É—â–µ—Å—Ç–≤—É–µ—Ç" (–ø–æ–∏—Å–∫ –≤ –ë–î –ø–æ `role_name`, –∫—Ä–æ–º–µ —Ç–µ–∫—É—â–µ–≥–æ role_id)
    - –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ -> –ø—É–Ω–∫—Ç 2
 - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ permissions (–≤—ã–±–∏—Ä–∞–µ–º –∏–∑ –≥–æ—Ç–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, —Ä–æ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π). 
    - –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ -> –æ—à–∏–±–∫–∞, —á—Ç–æ —Ç–∞–∫–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ—Ç
 - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è `role_id` –≤ –ë–î.

![](img/api_role_04_update_role.png)

## API/role/delete

#### –í—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
 - `role_id`

#### –í—ã—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
 - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É–¥–∞–ª–µ–Ω–∏–∏

#### –õ–æ–≥–∏–∫–∞:
 - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞, –¥–æ—Å—Ç—É–ø –¥–ª—è –∞–¥–º–∏–Ω–∞
 - —Ä–æ–ª—å –∏–º–µ–µ—Ç –Ω–µ—É–¥–∞–ª–µ–Ω–Ω—ã–µ usernames (–ø–æ–ª—É—á–∞–µ–º –∏–∑ –ë–î)
    - –¥–∞ -> –≤—ã–¥–∞–µ–º –æ—à–∏–±–∫—É (—É —Ä–æ–ª–∏ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
    - –Ω–µ—Ç -> –ø—É–Ω–∫—Ç 3
 - —É–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å –∏–∑ –ë–î.

![](img/api_role_05_detele_role.png)